NOP
// Comprehensive test of Job.g4 grammar
! This is a note
// Variable assignments
SET I[1] 100
SET R[1] 3.14159
SET S[1] "Hello World"
SET P[1] P[2]
// Math operations
R[2] = SQRT 16
R[3] = SIN 45
R[4] = ATAN2 1 1
I[5] = MAX I[1] I[2]
I[6] = ABS -50
// Position variables
SETP P[1] FRAME TF 1
GETP P[2]
SETEXTAXIS P[1] e1 100
// String operations
STRLEN S[1] I[10]
STRFIND S[1] S[2] I[11]
// IO operations
IN I[20] = DI[1]
OUT DO[1] 1
OUT DO[2] 0 T = 500
ANIN R[10] = AI[1]
ANOUT AO[1] = 5.5
// Motion instructions
MOVJ P[1] V = 50 ACC = 100 FINE
MOVL P[2] V = 100 ACC = 80 CNT = 50
MOVC P[3] V = 75 ACC = 100 CNT = 30
MOVS P[4] V = 60 ACC = 90 FINE
// Control flow
LABEL "START"
IF I[1] == 100 : GOTO "END"
IF I[2] > 50
  SET I[3] = 1
ELSE
  SET I[3] = 0
ENDIF
WHILE I[1] > 0
  SET I[1] = I[1] - 1
ENDWHILE
FOR I[10] = 1 I[10] < 10 STEP 1
  CALL SUBROUTINE
ENDFOR
// Switch statement
SWITCH I[1]
CASE I[1]
  SET I[2] = 1
BREAK
DEFAULT
  SET I[2] = 0
BREAK
ENDSWITCH
// Background jobs
START_BG BACKGROUND_JOB
DELAY T = 1000
STOP_BG BACKGROUND_JOB
// Interrupts
IRQON LEV = 1 DI[1] == 1 INTJOB
IRQOFF LEV = 1
// TCP/IP
TCPCREATE "CONN1" SERVERIP = 192.168.1.100 PORT = 8080
TCPSEND "CONN1" S[1]
TCPCLOSE "CONN1"
LABEL "END"
PAUSE
END